{
  "version": 3,
  "sources": ["../../react-oauth2-code-pkce/dist/Hooks.js", "../../react-oauth2-code-pkce/dist/authConfig.js", "../../react-oauth2-code-pkce/dist/errors.js", "../../react-oauth2-code-pkce/dist/httpUtils.js", "../../react-oauth2-code-pkce/dist/pkceUtils.js", "../../react-oauth2-code-pkce/dist/popupUtils.js", "../../react-oauth2-code-pkce/dist/authentication.js", "../../react-oauth2-code-pkce/dist/decodeJWT.js", "../../react-oauth2-code-pkce/dist/timeUtils.js", "../../react-oauth2-code-pkce/dist/AuthContext.js", "../../react-oauth2-code-pkce/dist/index.js"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nfunction useBrowserStorage(key, initialValue, type) {\n    const storage = type === 'session' ? sessionStorage : localStorage;\n    const [storedValue, setStoredValue] = (0, react_1.useState)(() => {\n        const item = storage.getItem(key);\n        try {\n            return item ? JSON.parse(item) : initialValue;\n        }\n        catch (error) {\n            console.warn(`Failed to parse stored value for '${key}'.\\nContinuing with default value.`);\n            return initialValue;\n        }\n    });\n    const setValue = (value) => {\n        if (value === undefined) {\n            // Delete item if set to undefined. This avoids warning on loading invalid json\n            setStoredValue(value);\n            storage.removeItem(key);\n            return;\n        }\n        try {\n            const valueToStore = value instanceof Function ? value(storedValue) : value;\n            setStoredValue(valueToStore);\n            storage.setItem(key, JSON.stringify(valueToStore));\n        }\n        catch (error) {\n            console.error(`Failed to store value '${value}' for key '${key}'`);\n        }\n    };\n    (0, react_1.useEffect)(() => {\n        const storageEventHandler = (event) => {\n            var _a;\n            if (event.storageArea === storage && event.key === key) {\n                if (event.newValue === null) {\n                    setStoredValue(undefined);\n                }\n                else {\n                    try {\n                        setStoredValue(JSON.parse((_a = event.newValue) !== null && _a !== void 0 ? _a : ''));\n                    }\n                    catch (error) {\n                        console.warn(`Failed to handle storageEvent's newValue='${event.newValue}' for key '${key}'`);\n                    }\n                }\n            }\n        };\n        window.addEventListener('storage', storageEventHandler, false);\n        return () => window.removeEventListener('storage', storageEventHandler, false);\n    });\n    return [storedValue, setValue];\n}\nexports.default = useBrowserStorage;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createInternalConfig = createInternalConfig;\nexports.validateConfig = validateConfig;\nfunction stringIsUnset(value) {\n    const unset = ['', undefined, null];\n    return unset.includes(value);\n}\nfunction createInternalConfig(passedConfig) {\n    // Set default values for internal config object\n    const { autoLogin = true, clearURL = true, decodeToken = true, scope = undefined, preLogin = () => null, postLogin = () => null, loginMethod = 'redirect', onRefreshTokenExpire = undefined, storage = 'local', storageKeyPrefix = 'ROCP_', refreshWithScope = true, refreshTokenExpiryStrategy = 'renewable', tokenRequestCredentials = 'same-origin', } = passedConfig;\n    const config = Object.assign(Object.assign({}, passedConfig), { autoLogin: autoLogin, clearURL: clearURL, decodeToken: decodeToken, scope: scope, preLogin: preLogin, postLogin: postLogin, loginMethod: loginMethod, onRefreshTokenExpire: onRefreshTokenExpire, storage: storage, storageKeyPrefix: storageKeyPrefix, refreshWithScope: refreshWithScope, refreshTokenExpiryStrategy: refreshTokenExpiryStrategy, tokenRequestCredentials: tokenRequestCredentials });\n    validateConfig(config);\n    return config;\n}\nfunction validateConfig(config) {\n    if (stringIsUnset(config === null || config === void 0 ? void 0 : config.clientId))\n        throw Error(\"'clientId' must be set in the 'AuthConfig' object passed to 'react-oauth2-code-pkce' AuthProvider\");\n    if (stringIsUnset(config === null || config === void 0 ? void 0 : config.authorizationEndpoint))\n        throw Error(\"'authorizationEndpoint' must be set in the 'AuthConfig' object passed to 'react-oauth2-code-pkce' AuthProvider\");\n    if (stringIsUnset(config === null || config === void 0 ? void 0 : config.tokenEndpoint))\n        throw Error(\"'tokenEndpoint' must be set in the 'AuthConfig' object passed to 'react-oauth2-code-pkce' AuthProvider\");\n    if (stringIsUnset(config === null || config === void 0 ? void 0 : config.redirectUri))\n        throw Error(\"'redirectUri' must be set in the 'AuthConfig' object passed to 'react-oauth2-code-pkce' AuthProvider\");\n    if (!['session', 'local'].includes(config.storage))\n        throw Error(\"'storage' must be one of ('session', 'local')\");\n    if (config === null || config === void 0 ? void 0 : config.extraAuthParams)\n        console.warn(\"The 'extraAuthParams' configuration parameter will be deprecated. You should use \" +\n            \"'extraTokenParameters' instead.\");\n    if ((config === null || config === void 0 ? void 0 : config.extraAuthParams) && (config === null || config === void 0 ? void 0 : config.extraTokenParameters))\n        console.warn(\"Using both 'extraAuthParams' and 'extraTokenParameters' is not recommended. \" +\n            \"They do the same thing, and you should only use 'extraTokenParameters'\");\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FetchError = void 0;\nclass FetchError extends Error {\n    constructor(status, statusText, message) {\n        super(message);\n        this.name = 'FetchError';\n        this.status = status;\n        this.statusText = statusText;\n    }\n}\nexports.FetchError = FetchError;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.postWithXForm = postWithXForm;\nconst errors_1 = require(\"./errors\");\nfunction buildUrlEncodedRequest(request) {\n    let queryString = '';\n    for (const [key, value] of Object.entries(request)) {\n        queryString += `${queryString ? '&' : ''}${key}=${encodeURIComponent(value)}`;\n    }\n    return queryString;\n}\nfunction postWithXForm(_a) {\n    return __awaiter(this, arguments, void 0, function* ({ url, request, credentials }) {\n        return fetch(url, {\n            method: 'POST',\n            body: buildUrlEncodedRequest(request),\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n            credentials: credentials,\n        }).then((response) => __awaiter(this, void 0, void 0, function* () {\n            if (!response.ok) {\n                const responseBody = yield response.text();\n                throw new errors_1.FetchError(response.status, response.statusText, responseBody);\n            }\n            return response;\n        }));\n    });\n}\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRandomInteger = getRandomInteger;\nexports.generateRandomString = generateRandomString;\nexports.generateCodeChallenge = generateCodeChallenge;\nfunction getRandomInteger(range) {\n    const max_range = 256; // Highest possible number in Uint8\n    // Create byte array and fill with 1 random number\n    const byteArray = new Uint8Array(1);\n    window.crypto.getRandomValues(byteArray); // This is the new, and safer API than Math.Random()\n    // If the generated number is out of range, try again\n    if (byteArray[0] >= Math.floor(max_range / range) * range)\n        return getRandomInteger(range);\n    return byteArray[0] % range;\n}\nfunction generateRandomString(length) {\n    let text = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (let i = 0; i < length; i++) {\n        text += possible.charAt(getRandomInteger(possible.length - 1));\n    }\n    return text;\n}\n/**\n *  PKCE Code Challenge = base64url(hash(codeVerifier))\n */\nfunction generateCodeChallenge(codeVerifier) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        if (!((_a = window.crypto.subtle) === null || _a === void 0 ? void 0 : _a.digest)) {\n            throw new Error(\"The context/environment is not secure, and does not support the 'crypto.subtle' module. See: https://developer.mozilla.org/en-US/docs/Web/API/Crypto/subtle for details\");\n        }\n        const encoder = new TextEncoder();\n        const bytes = encoder.encode(codeVerifier); // Encode the verifier to a byteArray\n        const hash = yield window.crypto.subtle.digest('SHA-256', bytes); // sha256 hash it\n        const hashString = String.fromCharCode(...new Uint8Array(hash));\n        const base64 = btoa(hashString); // Base64 encode the verifier hash\n        return base64 // Base64Url encode the base64 encoded string, making it safe as a query param\n            .replace(/=/g, '')\n            .replace(/\\+/g, '-')\n            .replace(/\\//g, '_');\n    });\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculatePopupPosition = calculatePopupPosition;\nfunction calculatePopupPosition(popupWidth = 600, popupHeight = 600) {\n    // Calculate the screen dimensions and position the popup at the center\n    const screenLeft = window.screenLeft;\n    const screenTop = window.screenTop;\n    const screenWidth = window.innerWidth;\n    const screenHeight = window.innerHeight;\n    // Calculate the position to center the popup\n    const defaultLeft = screenLeft + (screenWidth - popupWidth) / 2;\n    const defaultTop = screenTop + (screenHeight - popupHeight) / 2;\n    // Ensure the bottom-right corner does not go off the screen\n    // Adjust the left and top positions if necessary\n    const maxLeft = screenLeft + (screenWidth - popupWidth);\n    const maxTop = screenTop + (screenHeight - popupHeight);\n    return {\n        width: Math.min(popupWidth, screenWidth),\n        height: Math.min(popupHeight, screenHeight),\n        left: Math.max(0, Math.min(defaultLeft, maxLeft)),\n        top: Math.max(0, Math.min(defaultTop, maxTop)),\n    };\n}\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchWithRefreshToken = exports.fetchTokens = void 0;\nexports.redirectToLogin = redirectToLogin;\nexports.redirectToLogout = redirectToLogout;\nexports.validateState = validateState;\nconst httpUtils_1 = require(\"./httpUtils\");\nconst pkceUtils_1 = require(\"./pkceUtils\");\nconst popupUtils_1 = require(\"./popupUtils\");\nconst codeVerifierStorageKey = 'PKCE_code_verifier';\nconst stateStorageKey = 'ROCP_auth_state';\nfunction redirectToLogin(config_1, customState_1, additionalParameters_1) {\n    return __awaiter(this, arguments, void 0, function* (config, customState, additionalParameters, method = 'redirect') {\n        const storage = config.storage === 'session' ? sessionStorage : localStorage;\n        const navigationMethod = method === 'replace' ? 'replace' : 'assign';\n        // Create and store a random string in storage, used as the 'code_verifier'\n        const codeVerifier = (0, pkceUtils_1.generateRandomString)(96);\n        storage.setItem(codeVerifierStorageKey, codeVerifier);\n        // Hash and Base64URL encode the code_verifier, used as the 'code_challenge'\n        return (0, pkceUtils_1.generateCodeChallenge)(codeVerifier).then((codeChallenge) => {\n            // Set query parameters and redirect user to OAuth2 authentication endpoint\n            const params = new URLSearchParams(Object.assign(Object.assign({ response_type: 'code', client_id: config.clientId, redirect_uri: config.redirectUri, code_challenge: codeChallenge, code_challenge_method: 'S256' }, config.extraAuthParameters), additionalParameters));\n            if (config.scope !== undefined && !params.has('scope')) {\n                params.append('scope', config.scope);\n            }\n            storage.removeItem(stateStorageKey);\n            const state = customState !== null && customState !== void 0 ? customState : config.state;\n            if (state) {\n                storage.setItem(stateStorageKey, state);\n                params.append('state', state);\n            }\n            const loginUrl = `${config.authorizationEndpoint}?${params.toString()}`;\n            // Call any preLogin function in authConfig\n            if (config === null || config === void 0 ? void 0 : config.preLogin)\n                config.preLogin();\n            if (method === 'popup') {\n                const { width, height, left, top } = (0, popupUtils_1.calculatePopupPosition)(600, 600);\n                const handle = window.open(loginUrl, 'loginPopup', `width=${width},height=${height},top=${top},left=${left}`);\n                if (handle)\n                    return;\n                console.warn('Popup blocked. Redirecting to login page. Disable popup blocker to use popup login.');\n            }\n            window.location[navigationMethod](loginUrl);\n        });\n    });\n}\n// This is called a \"type predicate\". Which allow us to know which kind of response we got, in a type safe way.\nfunction isTokenResponse(body) {\n    return body.access_token !== undefined;\n}\nfunction postTokenRequest(tokenEndpoint, tokenRequest, credentials) {\n    return (0, httpUtils_1.postWithXForm)({ url: tokenEndpoint, request: tokenRequest, credentials: credentials }).then((response) => {\n        return response.json().then((body) => {\n            if (isTokenResponse(body)) {\n                return body;\n            }\n            throw Error(JSON.stringify(body));\n        });\n    });\n}\nconst fetchTokens = (config) => {\n    const storage = config.storage === 'session' ? sessionStorage : localStorage;\n    /*\n      The browser has been redirected from the authentication endpoint with\n      a 'code' url parameter.\n      This code will now be exchanged for Access- and Refresh Tokens.\n    */\n    const urlParams = new URLSearchParams(window.location.search);\n    const authCode = urlParams.get('code');\n    const codeVerifier = storage.getItem(codeVerifierStorageKey);\n    if (!authCode) {\n        throw Error(\"Parameter 'code' not found in URL. \\nHas authentication taken place?\");\n    }\n    if (!codeVerifier) {\n        throw Error(\"Can't get tokens without the CodeVerifier. \\nHas authentication taken place?\");\n    }\n    const tokenRequest = Object.assign(Object.assign({ grant_type: 'authorization_code', code: authCode, client_id: config.clientId, redirect_uri: config.redirectUri, code_verifier: codeVerifier }, config.extraTokenParameters), config.extraAuthParams);\n    return postTokenRequest(config.tokenEndpoint, tokenRequest, config.tokenRequestCredentials);\n};\nexports.fetchTokens = fetchTokens;\nconst fetchWithRefreshToken = (props) => {\n    const { config, refreshToken } = props;\n    const refreshRequest = Object.assign({ grant_type: 'refresh_token', refresh_token: refreshToken, client_id: config.clientId, redirect_uri: config.redirectUri }, config.extraTokenParameters);\n    if (config.refreshWithScope)\n        refreshRequest.scope = config.scope;\n    return postTokenRequest(config.tokenEndpoint, refreshRequest, config.tokenRequestCredentials);\n};\nexports.fetchWithRefreshToken = fetchWithRefreshToken;\nfunction redirectToLogout(config, token, refresh_token, idToken, state, logoutHint, additionalParameters) {\n    var _a;\n    const params = new URLSearchParams(Object.assign(Object.assign({ token: refresh_token || token, token_type_hint: refresh_token ? 'refresh_token' : 'access_token', client_id: config.clientId, post_logout_redirect_uri: (_a = config.logoutRedirect) !== null && _a !== void 0 ? _a : config.redirectUri, ui_locales: window.navigator.languages.join(' ') }, config.extraLogoutParameters), additionalParameters));\n    if (idToken)\n        params.append('id_token_hint', idToken);\n    if (state)\n        params.append('state', state);\n    if (logoutHint)\n        params.append('logout_hint', logoutHint);\n    window.location.assign(`${config.logoutEndpoint}?${params.toString()}`);\n}\nfunction validateState(urlParams, storageType) {\n    const storage = storageType === 'session' ? sessionStorage : localStorage;\n    const receivedState = urlParams.get('state');\n    const loadedState = storage.getItem(stateStorageKey);\n    if (receivedState !== loadedState) {\n        throw new Error('\"state\" value received from authentication server does no match client request. Possible cross-site request forgery');\n    }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeIdToken = exports.decodeAccessToken = exports.decodeJWT = void 0;\n/**\n * Decodes the base64 encoded JWT. Returns a TToken.\n */\nconst decodeJWT = (token) => {\n    try {\n        const base64Url = token.split('.')[1];\n        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        const jsonPayload = decodeURIComponent(atob(base64)\n            .split('')\n            .map((c) => `%${`00${c.charCodeAt(0).toString(16)}`.slice(-2)}`)\n            .join(''));\n        return JSON.parse(jsonPayload);\n    }\n    catch (e) {\n        console.error(e);\n        throw Error('Failed to decode the access token.\\n\\tIs it a proper JSON Web Token?\\n\\t' +\n            \"You can disable JWT decoding by setting the 'decodeToken' value to 'false' the configuration.\");\n    }\n};\nexports.decodeJWT = decodeJWT;\nconst decodeAccessToken = (token) => {\n    if (!token || !token.length)\n        return undefined;\n    try {\n        return (0, exports.decodeJWT)(token);\n    }\n    catch (e) {\n        console.warn(`Failed to decode access token: ${e.message}`);\n    }\n};\nexports.decodeAccessToken = decodeAccessToken;\nconst decodeIdToken = (idToken) => {\n    if (!idToken || !idToken.length)\n        return undefined;\n    try {\n        return (0, exports.decodeJWT)(idToken);\n    }\n    catch (e) {\n        console.warn(`Failed to decode idToken: ${e.message}`);\n    }\n};\nexports.decodeIdToken = decodeIdToken;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.epochAtSecondsFromNow = exports.FALLBACK_EXPIRE_TIME = void 0;\nexports.epochTimeIsPast = epochTimeIsPast;\nexports.getRefreshExpiresIn = getRefreshExpiresIn;\nexports.FALLBACK_EXPIRE_TIME = 600; // 10minutes\n// Returns epoch time (in seconds) for when the token will expire\n// 'secondsFromNow' should always be an integer, but some auth providers has decided that whole numbers should be strings...\nconst epochAtSecondsFromNow = (secondsFromNow) => Math.round(Date.now() / 1000 + Number(secondsFromNow));\nexports.epochAtSecondsFromNow = epochAtSecondsFromNow;\n/**\n * Check if the Access Token has expired.\n * Will return True if the token has expired, OR there is less than 30 seconds until it expires.\n */\nfunction epochTimeIsPast(timestamp) {\n    const now = Math.round(Date.now()) / 1000;\n    const nowWithBuffer = now + 30;\n    return nowWithBuffer >= timestamp;\n}\nconst refreshExpireKeys = [\n    'refresh_expires_in', // KeyCloak\n    'refresh_token_expires_in', // Azure AD\n];\nfunction getRefreshExpiresIn(tokenExpiresIn, response) {\n    for (const key of refreshExpireKeys) {\n        if (key in response)\n            return response[key];\n    }\n    // If the response has a refresh_token, but no expire_time. Assume it's at least 10m longer than access_token's expire\n    if (response.refresh_token)\n        return tokenExpiresIn + exports.FALLBACK_EXPIRE_TIME;\n    // The token response had no refresh_token. Set refresh_expire equals to access_token expire\n    return tokenExpiresIn;\n}\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthProvider = exports.AuthContext = void 0;\nconst react_1 = __importStar(require(\"react\"));\nconst Hooks_1 = __importDefault(require(\"./Hooks\"));\nconst authConfig_1 = require(\"./authConfig\");\nconst authentication_1 = require(\"./authentication\");\nconst decodeJWT_1 = require(\"./decodeJWT\");\nconst errors_1 = require(\"./errors\");\nconst timeUtils_1 = require(\"./timeUtils\");\nexports.AuthContext = (0, react_1.createContext)({\n    token: '',\n    login: () => null,\n    logIn: () => null,\n    logOut: () => null,\n    error: null,\n    loginInProgress: false,\n});\nconst AuthProvider = ({ authConfig, children }) => {\n    const config = (0, react_1.useMemo)(() => (0, authConfig_1.createInternalConfig)(authConfig), [authConfig]);\n    const [refreshToken, setRefreshToken] = (0, Hooks_1.default)(`${config.storageKeyPrefix}refreshToken`, undefined, config.storage);\n    const [refreshTokenExpire, setRefreshTokenExpire] = (0, Hooks_1.default)(`${config.storageKeyPrefix}refreshTokenExpire`, undefined, config.storage);\n    const [token, setToken] = (0, Hooks_1.default)(`${config.storageKeyPrefix}token`, '', config.storage);\n    const [tokenExpire, setTokenExpire] = (0, Hooks_1.default)(`${config.storageKeyPrefix}tokenExpire`, (0, timeUtils_1.epochAtSecondsFromNow)(timeUtils_1.FALLBACK_EXPIRE_TIME), config.storage);\n    const [idToken, setIdToken] = (0, Hooks_1.default)(`${config.storageKeyPrefix}idToken`, undefined, config.storage);\n    const [loginInProgress, setLoginInProgress] = (0, Hooks_1.default)(`${config.storageKeyPrefix}loginInProgress`, false, config.storage);\n    const [refreshInProgress, setRefreshInProgress] = (0, Hooks_1.default)(`${config.storageKeyPrefix}refreshInProgress`, false, config.storage);\n    const [loginMethod, setLoginMethod] = (0, Hooks_1.default)(`${config.storageKeyPrefix}loginMethod`, 'redirect', config.storage);\n    const tokenData = (0, react_1.useMemo)(() => {\n        if (config.decodeToken)\n            return (0, decodeJWT_1.decodeAccessToken)(token);\n    }, [token]);\n    const idTokenData = (0, react_1.useMemo)(() => (0, decodeJWT_1.decodeIdToken)(idToken), [idToken]);\n    const [error, setError] = (0, react_1.useState)(null);\n    function clearStorage() {\n        setRefreshToken(undefined);\n        setToken('');\n        setTokenExpire((0, timeUtils_1.epochAtSecondsFromNow)(timeUtils_1.FALLBACK_EXPIRE_TIME));\n        setRefreshTokenExpire(undefined);\n        setIdToken(undefined);\n        setLoginInProgress(false);\n    }\n    function logOut(state, logoutHint, additionalParameters) {\n        clearStorage();\n        setError(null);\n        if ((config === null || config === void 0 ? void 0 : config.logoutEndpoint) && token)\n            (0, authentication_1.redirectToLogout)(config, token, refreshToken, idToken, state, logoutHint, additionalParameters);\n    }\n    function logIn(state, additionalParameters, method = 'redirect') {\n        clearStorage();\n        setLoginInProgress(true);\n        setLoginMethod(method);\n        // TODO: Raise error on wrong state type in v2\n        let typeSafePassedState = state;\n        if (state && typeof state !== 'string') {\n            const jsonState = JSON.stringify(state);\n            console.warn(`Passed login state must be of type 'string'. Received '${jsonState}'. Ignoring value. In a future version, an error will be thrown here.`);\n            typeSafePassedState = undefined;\n        }\n        (0, authentication_1.redirectToLogin)(config, typeSafePassedState, additionalParameters, method).catch((error) => {\n            console.error(error);\n            setError(error.message);\n            setLoginInProgress(false);\n        });\n    }\n    function handleTokenResponse(response) {\n        var _a, _b, _c;\n        setToken(response.access_token);\n        if (response.id_token) {\n            setIdToken(response.id_token);\n        }\n        let tokenExp = timeUtils_1.FALLBACK_EXPIRE_TIME;\n        // Decode IdToken, so we can use \"exp\" from that as fallback if expire not returned in the response\n        try {\n            if (response.id_token) {\n                const decodedToken = (0, decodeJWT_1.decodeJWT)(response.id_token);\n                tokenExp = Math.round(Number(decodedToken.exp) - Date.now() / 1000); // number of seconds from now\n            }\n        }\n        catch (e) {\n            console.warn(`Failed to decode idToken: ${e.message}`);\n        }\n        const tokenExpiresIn = (_b = (_a = config.tokenExpiresIn) !== null && _a !== void 0 ? _a : response.expires_in) !== null && _b !== void 0 ? _b : tokenExp;\n        setTokenExpire((0, timeUtils_1.epochAtSecondsFromNow)(tokenExpiresIn));\n        const refreshTokenExpiresIn = (_c = config.refreshTokenExpiresIn) !== null && _c !== void 0 ? _c : (0, timeUtils_1.getRefreshExpiresIn)(tokenExpiresIn, response);\n        if (response.refresh_token) {\n            setRefreshToken(response.refresh_token);\n            if (!refreshTokenExpire || config.refreshTokenExpiryStrategy !== 'absolute') {\n                setRefreshTokenExpire((0, timeUtils_1.epochAtSecondsFromNow)(refreshTokenExpiresIn));\n            }\n        }\n        setError(null);\n    }\n    function handleExpiredRefreshToken(initial = false) {\n        if (config.autoLogin && initial)\n            return logIn(undefined, undefined, config.loginMethod);\n        // TODO: Breaking change - remove automatic login during ongoing session\n        if (!config.onRefreshTokenExpire)\n            return logIn(undefined, undefined, config.loginMethod);\n        config.onRefreshTokenExpire({\n            login: logIn,\n            logIn,\n        });\n    }\n    function refreshAccessToken(initial = false) {\n        if (!token)\n            return;\n        // The token has not expired. Do nothing\n        if (!(0, timeUtils_1.epochTimeIsPast)(tokenExpire))\n            return;\n        // Other instance (tab) is currently refreshing. This instance skip the refresh if not initial\n        if (refreshInProgress && !initial)\n            return;\n        // If no refreshToken, act as if the refreshToken expired (session expired)\n        if (!refreshToken)\n            return handleExpiredRefreshToken(initial);\n        // The refreshToken has expired\n        if (refreshTokenExpire && (0, timeUtils_1.epochTimeIsPast)(refreshTokenExpire))\n            return handleExpiredRefreshToken(initial);\n        // The access_token has expired, and we have a non-expired refresh_token. Use it to refresh access_token.\n        if (refreshToken) {\n            setRefreshInProgress(true);\n            (0, authentication_1.fetchWithRefreshToken)({ config, refreshToken })\n                .then((result) => handleTokenResponse(result))\n                .catch((error) => {\n                if (error instanceof errors_1.FetchError) {\n                    // If the fetch failed with status 400, assume expired refresh token\n                    if (error.status === 400) {\n                        handleExpiredRefreshToken(initial);\n                        return;\n                    }\n                    // Unknown error. Set error, and log in if first page load\n                    console.error(error);\n                    setError(error.message);\n                    if (initial)\n                        logIn(undefined, undefined, config.loginMethod);\n                }\n                // Unknown error. Set error, and log in if first page load\n                else if (error instanceof Error) {\n                    console.error(error);\n                    setError(error.message);\n                    if (initial)\n                        logIn(undefined, undefined, config.loginMethod);\n                }\n            })\n                .finally(() => {\n                setRefreshInProgress(false);\n            });\n            return;\n        }\n        console.warn('Failed to refresh access_token. Most likely there is no refresh_token, or the authentication server did not reply with an explicit expire time, and the default expire times are longer than the actual tokens expire time');\n    }\n    // Register the 'check for soon expiring access token' interval (every ~10 seconds).\n    (0, react_1.useEffect)(() => {\n        // The randomStagger is used to avoid multiple tabs logging in at the exact same time.\n        const randomStagger = 10000 * Math.random();\n        const interval = setInterval(() => refreshAccessToken(), 5000 + randomStagger);\n        return () => clearInterval(interval);\n    }, [token, refreshToken, refreshTokenExpire, tokenExpire, refreshInProgress]); // Replace the interval with a new when values used inside refreshAccessToken changes\n    // This ref is used to make sure the 'fetchTokens' call is only made once.\n    // Multiple calls with the same code will, and should, return an error from the API\n    // See: https://beta.reactjs.org/learn/synchronizing-with-effects#how-to-handle-the-effect-firing-twice-in-development\n    const didFetchTokens = (0, react_1.useRef)(false);\n    // Runs once on page load\n    (0, react_1.useEffect)(() => {\n        // The client has been redirected back from the auth endpoint with an auth code\n        if (loginInProgress) {\n            const urlParams = new URLSearchParams(window.location.search);\n            if (!urlParams.get('code')) {\n                // This should not happen. There should be a 'code' parameter in the url by now...\n                const error_description = urlParams.get('error_description') ||\n                    'Bad authorization state. Refreshing the page and log in again might solve the issue.';\n                console.error(`${error_description}\\nExpected  to find a '?code=' parameter in the URL by now. Did the authentication get aborted or interrupted?`);\n                setError(error_description);\n                clearStorage();\n                return;\n            }\n            // Make sure we only try to use the auth code once\n            if (!didFetchTokens.current) {\n                didFetchTokens.current = true;\n                try {\n                    (0, authentication_1.validateState)(urlParams, config.storage);\n                }\n                catch (e) {\n                    console.error(e);\n                    setError(e.message);\n                }\n                // Request tokens from auth server with the auth code\n                (0, authentication_1.fetchTokens)(config)\n                    .then((tokens) => {\n                    handleTokenResponse(tokens);\n                    // Call any postLogin function in authConfig\n                    if (config === null || config === void 0 ? void 0 : config.postLogin)\n                        config.postLogin();\n                    if (loginMethod === 'popup')\n                        window.close();\n                })\n                    .catch((error) => {\n                    console.error(error);\n                    setError(error.message);\n                })\n                    .finally(() => {\n                    if (config.clearURL) {\n                        // Clear ugly url params\n                        window.history.replaceState(null, '', `${window.location.pathname}${window.location.hash}`);\n                    }\n                    setLoginInProgress(false);\n                });\n            }\n            return;\n        }\n        // First page visit\n        if (!token && config.autoLogin)\n            return logIn(undefined, undefined, config.loginMethod);\n        refreshAccessToken(true); // Check if token should be updated\n    }, []);\n    return (react_1.default.createElement(exports.AuthContext.Provider, { value: {\n            token,\n            tokenData,\n            idToken,\n            idTokenData,\n            login: logIn,\n            logIn,\n            logOut,\n            error,\n            loginInProgress,\n        } }, children));\n};\nexports.AuthProvider = AuthProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthContext = exports.AuthProvider = void 0;\nvar AuthContext_1 = require(\"./AuthContext\");\nObject.defineProperty(exports, \"AuthProvider\", { enumerable: true, get: function () { return AuthContext_1.AuthProvider; } });\nObject.defineProperty(exports, \"AuthContext\", { enumerable: true, get: function () { return AuthContext_1.AuthContext; } });\n"],
  "mappings": "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",
  "names": ["o", "error"]
}
